webpackJsonp([1],{"/8fb":function(t,e){},"0/vz":function(t,e){},"1/oy":function(t,e){},"34yi":function(t,e){},"6w4V":function(t,e){},Dr2q:function(t,e){},GfHa:function(t,e){},Id91:function(t,e){},L3o0:function(t,e){},L9gu:function(t,e){},LzPw:function(t,e){},MiYJ:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),n=s("cOEn"),i={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:this.isLoading,expression:"isLoading"}],staticClass:"loader"})},staticRenderFns:[]};var r={name:"App",components:{Loader:s("VU/8")({data:function(){return{}},computed:{isLoading:function(){return this.$store.state.isLoading}}},i,!1,function(t){s("hbeH")},null,null).exports}},l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("loader"),this._v(" "),e("router-view",{attrs:{name:"navigation"}}),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var o=s("VU/8")(r,l,!1,function(t){s("Z+l0")},"data-v-999e3d76",null).exports,u=(s("/8fb"),s("/ocq")),c=s("uh/w"),d=s.n(c),m=a.a.extend({template:d.a}),v={render:function(){var t=this.$createElement,e=this._self._c||t;return e("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-success p-0"},[e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[e("div",{staticClass:"container-fluid"},[e("ul",{staticClass:"navbar-nav mr-auto"},[e("router-link",{staticClass:"nav-item",attrs:{tag:"li",to:"/admin",exact:""}},[e("a",{staticClass:"nav-link pr-3"},[e("i",{staticClass:"fa fa-users ml-1 mr-2"}),this._v(" Ученици")])]),this._v(" "),e("router-link",{staticClass:"nav-item",attrs:{tag:"li",to:"/exams",exact:""}},[e("a",{staticClass:"nav-link"},[e("i",{staticClass:"fa fa-file-text-o  ml-1 mr-2"}),this._v(" Изпити")])]),this._v(" "),e("router-link",{staticClass:"nav-item",attrs:{tag:"li",to:"/results",exact:""}},[e("a",{staticClass:"nav-link"},[e("i",{staticClass:"fa fa-bar-chart  ml-1 mr-2"}),this._v(" Резултати")])])],1)])])])},staticRenderFns:[]};var f=s("VU/8")({},v,!1,function(t){s("p8dR")},"data-v-aa20adda",null).exports,p={name:"mt-button",methods:{click:function(){this.$emit("click")}},props:{title:String}},h={render:function(){var t=this.$createElement;return(this._self._c||t)("button",{staticClass:"btn btn-primary disabled mt-1 w-100",on:{click:this.click}},[this._v("\n  "+this._s(this.title)+"\n")])},staticRenderFns:[]};var _=s("VU/8")(p,h,!1,function(t){s("mwps")},"data-v-c6133dc4",null).exports,b={name:"mt-container",props:{header:String}},g={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"base-container"},[e("h3",{staticClass:"p-3"},[this._v(this._s(this.header))]),this._v(" "),e("div",{staticClass:"p-3"},[this._t("default")],2)])},staticRenderFns:[]};var x=s("VU/8")(b,g,!1,function(t){s("LzPw")},"data-v-28451521",null).exports,C={name:"mt-input",methods:{input:function(t){this.$emit("input",t.target.value)}},props:{pholder:String,text:String}},E={render:function(){var t=this.$createElement;return(this._self._c||t)("input",{staticClass:"form-control mb-2",attrs:{type:"text",placeholder:this.pholder},domProps:{value:this.text},on:{input:this.input}})},staticRenderFns:[]};var S=s("VU/8")(C,E,!1,function(t){s("oMoI")},"data-v-638d5381",null).exports,w="GET_STUDENTS",y="ADD_STUDENT",$="DELETE_STUDENT",k="GET_STUDENT_BY_ID",R="GET_RESULTS",U="GET_STUDENT_RESULTS",A="GET_EXAMS",T="GET_DEFAULT_EXAM",N="ADD_EXAM",M="UPDATE_EXAM",D="DELETE_EXAM",q={name:"mt-add-student",data:function(){return{name:"",group:"",avatar:""}},methods:{click:function(){this.$store.dispatch(y,{name:this.name,group:this.group,avatar:this.avatar})}},components:{MtInput:S,MtButton:_,MtContainer:x}},V={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("mt-container",{attrs:{header:"Добави Ученик"}},[s("mt-input",{attrs:{pholder:"Име"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),s("mt-input",{attrs:{pholder:"Клас"},model:{value:t.group,callback:function(e){t.group=e},expression:"group"}}),t._v(" "),s("mt-input",{attrs:{pholder:"Аватар"},model:{value:t.avatar,callback:function(e){t.avatar=e},expression:"avatar"}}),t._v(" "),s("b-btn",{attrs:{block:"",variant:"success"},on:{click:t.click}},[t._v("Добави")])],1)},staticRenderFns:[]};var L=s("VU/8")(q,V,!1,function(t){s("OZEt")},"data-v-20539278",null).exports,F={name:"mt-search-filter",props:{pholder:String},data:function(){return{search:""}},methods:{input:function(t){this.$emit("input",t)}},components:{MtInput:S}},j={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search-container"},[s("mt-input",{attrs:{pholder:t.pholder},on:{input:t.input},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),s("i",{staticClass:"fa fa-search",attrs:{"aria-hidden":"true"}})],1)},staticRenderFns:[]};var I=s("VU/8")(F,j,!1,function(t){s("Dr2q")},"data-v-5062e910",null).exports,Q="SET_LOADER",z="ADD_STUDENT",O="SET_STUDENTS",P="SET_CURRENT_STUDENT",B="SET_RESULTS",X="SET_STUDENT_RESULTS",H="SET_CURRENT_EXAM",G="SET_EXAMS",Z="ADD_EXAM",J="UPDATE_EXAM",W="DELETE_EXAM",Y={name:"mt-student-list-item",props:{avatar:{type:String},group:{default:"-",type:String},name:String,id:String},computed:{getAvatar:function(){var t=this.avatar;return t||(t="/static/images/avatar.png"),t}},methods:{setCurrentStudent:function(){var t=this.$store.getters.getStudentById(this.id);this.$store.commit(P,t)},showStudentResult:function(t){this.$router.push({path:"results",query:{studentId:t}})}}},K={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list-group-item p-2"},[s("img",{staticClass:"student-avatar",attrs:{src:t.getAvatar}}),t._v(" "),s("span",{staticClass:"user-info"},[s("span",{staticClass:"user-group m-2 p-1 text-info bg-dark"},[t._v(t._s(t.group))]),t._v(" "),s("span",{staticClass:"user-name"},[t._v(t._s(t.name))]),t._v(" "),s("div",{staticClass:"buttons-container"},[s("span",{staticClass:"view-results mr-2 p-1",on:{click:function(e){t.showStudentResult(t.id)}}},[s("i",{staticClass:"fa fa-bar-chart",attrs:{"aria-hidden":"true"}})]),t._v(" "),s("span",{directives:[{name:"b-modal",rawName:"v-b-modal.modalDeleteStudent",modifiers:{modalDeleteStudent:!0}}],staticClass:"remove-item",on:{click:t.setCurrentStudent}},[s("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])])])])},staticRenderFns:[]};var tt=s("VU/8")(Y,K,!1,function(t){s("caq4")},"data-v-12fab914",null).exports,et={name:"mt-confirm-delete",props:{question:String,data:String}},st={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("p",[this._v("\n    "+this._s(this.question)+"\n  ")]),this._v(" "),e("p",{staticClass:"current-student mb-0",domProps:{innerHTML:this._s(this.data)}})])},staticRenderFns:[]};var at=s("VU/8")(et,st,!1,function(t){s("WqH3")},"data-v-735c3113",null).exports,nt={name:"mt-students-list",components:{MtContainer:x,MtSearchFilter:I,MtStudentsListItem:tt,MtConfirmDelete:at},data:function(){return{modalTitle:"Сигурен ли си, че искаш да изтриеш",searchName:""}},computed:{filteredStudents:function(){var t=this.searchName.toLowerCase();return this.$store.state.students.filter(function(e){return-1!==e.name.toLowerCase().indexOf(t)})},studentName:function(){return this.$store.state.currentStudent.name}},created:function(){this.getStudents()},methods:{getStudents:function(){this.$store.dispatch(w)},deleteStudent:function(){this.$store.dispatch($,this.$store.state.currentStudent._id)}}},it={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("mt-container",{attrs:{header:"Списък с ученици"}},[s("ul",{staticClass:"list-group"},[s("mt-search-filter",{attrs:{pholder:"Търси по име"},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}}),t._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:!t.filteredStudents.length,expression:"!filteredStudents.length"}],staticClass:"text-center p-3"},[t._v("Добави ученици в списъка")]),t._v(" "),t._l(t.filteredStudents,function(e){return t.filteredStudents.length?s("mt-students-list-item",{key:e._id,attrs:{id:e._id,avatar:e.avatar,group:e.group,name:e.name}}):t._e()})],2)]),t._v(" "),s("b-modal",{ref:"modal",attrs:{id:"modalDeleteStudent",title:"Изтрий студент","ok-title":"Да","cancel-title":"Откажи"},on:{ok:t.deleteStudent}},[s("mt-confirm-delete",{attrs:{question:t.modalTitle,data:t.studentName}})],1)],1)},staticRenderFns:[]};var rt={name:"mt-students",components:{MtAddStudent:L,MtStudentsList:s("VU/8")(nt,it,!1,function(t){s("P9kx")},null,null).exports}},lt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-fluid pt-3"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("mt-add-student")],1),this._v(" "),e("div",{staticClass:"col-md-8"},[e("mt-students-list")],1)])])},staticRenderFns:[]};var ot=s("VU/8")(rt,lt,!1,function(t){s("0/vz")},"data-v-53e01480",null).exports,ut=s("DtRx"),ct=s.n(ut),dt={name:"mt-collapsible",data:function(){return{id:ct()()}}},mt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("b-card",{staticClass:"mb-1 rounded-0",attrs:{"no-body":""}},[e("b-card-header",{staticClass:"p-0 rounded-0",attrs:{"header-tag":"header"}},[e("b-btn",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:this.id,expression:"id"}],staticClass:"rounded-0 text-left",attrs:{block:"",href:"#",variant:"dark"}},[this._t("header")],2)],1),this._v(" "),e("b-collapse",{attrs:{id:this.id,accordion:"my-accordion"}},[this._t("default")],2)],1)},staticRenderFns:[]};var vt=s("VU/8")(dt,mt,!1,function(t){s("enuX")},"data-v-0b13bb2d",null).exports,ft={name:"mt-exam-header",props:{subjectName:String,variant:String}},pt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",[this._v(this._s(this.subjectName))]),this._v(" "),e("span",{staticClass:"variant\n          text-info\n          rounded ml-3 pl-2 pr-2 pt-1 pb-1 font-weight-light"},[this._v("Вариант: "+this._s(this.variant)+"\n        ")])])},staticRenderFns:[]},ht=s("VU/8")(ft,pt,!1,null,null,null).exports,_t={name:"mt-labeled-input",props:{id:ct()(),label:String,value:String,size:String,placeholder:String},methods:{input:function(t){this.$emit("input",t)}}},bt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("b-form-group",{attrs:{label:this.label,"label-for":this.id}},[e("b-form-input",{attrs:{id:this.id,type:"text",size:this.size,value:this.value,placeholder:this.placeholder},on:{input:this.input}})],1)},staticRenderFns:[]};var gt=s("VU/8")(_t,bt,!1,function(t){s("rVmt")},"data-v-9f6590fe",null).exports,xt={name:"mt-labeled-text-area",props:{label:String,value:String,size:String,placeholder:String},methods:{input:function(t){this.$emit("input",t)}}},Ct={render:function(){var t=this.$createElement,e=this._self._c||t;return e("b-form-group",{attrs:{label:this.label,"label-for":"to_be_replaced_by_generated_unique_id"}},[e("b-form-textarea",{attrs:{id:"to_be_replaced_by_generated_unique_id",type:"text",size:this.size,value:this.value,required:"",rows:3,placeholder:this.placeholder},on:{input:this.input}})],1)},staticRenderFns:[]};var Et=s("VU/8")(xt,Ct,!1,function(t){s("Nff9")},"data-v-c8db6ea0",null).exports,St={name:"mt-edit-radio-button-group",components:{MtInput:S},props:{placeholder:String,label:String,value:Array,selected:String},methods:{input:function(){this.$emit("input",this.value)},select:function(t){this.$emit("select",t)},getSelectedClass:function(t){return t===this.selected?"active":""}}},wt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-form-group",{attrs:{label:t.label}},[s("b-form-radio-group",{staticClass:"answer-form",on:{input:t.select},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},t._l(t.value,function(e){return s("div",{key:e._id,staticClass:"d-flex holder align-items-center",class:t.getSelectedClass(e._id)},[s("span",{staticClass:"d-inline-block id"},[t._v(t._s(e._id)+")")]),t._v(" "),s("b-form-radio",{staticClass:"ml-2 mr-0",attrs:{value:e._id}}),t._v(" "),s("b-form-input",{staticClass:"radio-input",attrs:{type:"text",size:"sm",placeholder:t.placeholder},on:{input:t.input},model:{value:e.text,callback:function(s){t.$set(e,"text",s)},expression:"item.text"}})],1)}))],1)},staticRenderFns:[]};var yt=s("VU/8")(St,wt,!1,function(t){s("mSRH")},"data-v-26f08cb2",null).exports,$t={name:"mt-add-localQuestion",components:{MtEditRadioButtonGroup:yt,MtLabeledInput:gt,MtLabeledTextArea:Et},props:{hasAddButton:Boolean,hasRemoveButton:Boolean,value:Object,index:Number},computed:{getQuestionNumber:function(){return void 0===this.index?"":this.index+1}},methods:{input:function(){this.$emit("input",this.value)},submit:function(){this.$emit("add",this.value)},remove:function(){this.$emit("remove",this.index)},selectAnswer:function(t){this.value.correctAnswer=t,this.input()}}},kt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-form",{staticClass:"px-3 py-2 question",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[t.hasRemoveButton?s("span",{staticClass:"remove-item",on:{click:t.remove}},[s("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]):t._e(),t._v(" "),s("div",{staticClass:"row"},[t.getQuestionNumber?s("div",{staticClass:"question-counter"},[s("span",[t._v(t._s(t.getQuestionNumber))])]):t._e(),t._v(" "),s("div",{staticClass:"col-md-2 category-container"},[s("mt-labeled-input",{staticClass:"category-input",attrs:{label:"Категория",size:"sm",placeholder:"Въведи категория"},on:{input:t.input},model:{value:t.value.category,callback:function(e){t.$set(t.value,"category",e)},expression:"value.category"}}),t._v(" "),t.value.imageUrl?s("img",{staticClass:"image-url img-thumbnail",attrs:{src:t.value.imageUrl}}):t._e()],1),t._v(" "),s("div",{staticClass:"col-md-4"},[s("mt-labeled-text-area",{attrs:{label:"Добави въпрос",size:"sm",placeholder:"Въведи въпрос"},on:{input:t.input},model:{value:t.value.text,callback:function(e){t.$set(t.value,"text",e)},expression:"value.text"}}),t._v(" "),s("mt-labeled-input",{attrs:{label:"Картинка към въпроса",size:"sm",placeholder:"Въведи URL"},on:{input:t.input},model:{value:t.value.imageUrl,callback:function(e){t.$set(t.value,"imageUrl",e)},expression:"value.imageUrl"}})],1),t._v(" "),s("div",{staticClass:"col-md"},[s("mt-edit-radio-button-group",{attrs:{label:"Отговори",selected:t.value.correctAnswer,placeholder:"Въведи отговор"},on:{select:t.selectAnswer,input:t.input},model:{value:t.value.answers,callback:function(e){t.$set(t.value,"answers",e)},expression:"value.answers"}})],1)]),t._v(" "),t.hasAddButton?s("div",{staticClass:"row"},[s("div",{staticClass:"col text-right"},[s("b-button",{attrs:{type:"submit","text-variant":"gray-lighter"}},[t._v("Добави")])],1)]):t._e()])},staticRenderFns:[]};var Rt=s("VU/8")($t,kt,!1,function(t){s("x7yZ")},"data-v-56e01ebe",null).exports,Ut=s("Zrlr"),At=s.n(Ut),Tt=s("wxAW"),Nt=s.n(Tt),Mt=function(){function t(){At()(this,t),this.text="",this._id=ct()(),this.imageUrl="",this.correctAnswer="a",this.category="",this.answers=[{_id:"а",text:""},{_id:"б",text:""},{_id:"в",text:""},{_id:"г",text:""}]}return Nt()(t,[{key:"deepCopy",value:function(){var t={};return t._id=this._id,t.text=this.text,t.imageUrl=this.imageUrl,t.category=this.category,t.correctAnswer=this.correctAnswer,t.answers=this.answers.map(function(t){return{_id:t._id,text:t.text}}),t}}]),t}(),Dt={name:"mt-exam-table",methods:{changeQuestion:function(t,e){this.exam.questions.splice(e,1,t)},addQuestion:function(t){this.newQuestion=new Mt,this.exam.questions.push(t)},removeQuestion:function(t){this.exam.questions.splice(t,1)},toggleAddQuestion:function(){this.isToggled=!this.isToggled},updateExam:function(){this.$emit("update",this.exam)},deleteExam:function(){this.$emit("delete",this.exam)},selectAnswer:function(t,e){console.log("TODO handle selection of answer to localQuestion",t,e)}},props:{id:String,index:Number,exam:Object},components:{MtInput:S,MtAddQuestion:Rt,MtEditRadioButtonGroup:yt,MtLabeledInput:gt},data:function(){return{isToggled:!1,fields:[{key:"category",label:"Категория",tdClass:"category-column",thClass:"category-column"},{key:"text",label:"Въпрос"},{key:"answers",label:"Отговори"}],newQuestion:new Mt}}},qt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-card-body",[s("div",{staticClass:"text-right mb-3"},[s("b-button",{staticClass:"mr-2",attrs:{type:"button",size:"sm",variant:"danger"},on:{click:t.deleteExam}},[t._v("Изтрий изпит\n    ")]),t._v(" "),s("b-button",{staticClass:"mr-2",attrs:{type:"button",size:"sm","text-variant":"gray-lighter"},on:{click:t.toggleAddQuestion}},[s("i",{staticClass:"fa fa-plus-circle add-question",attrs:{"aria-hidden":"true"}}),t._v("\n      Добави Въпрос\n    ")]),t._v(" "),s("b-button",{attrs:{type:"button",variant:"success",size:"sm"},on:{click:t.updateExam}},[t._v("Запази")])],1),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-2"},[s("mt-labeled-input",{staticClass:"category-input",attrs:{label:"Код на предмет",size:"sm",placeholder:"Въведи код на предмет"},model:{value:t.exam.subjectCode,callback:function(e){t.$set(t.exam,"subjectCode",e)},expression:"exam.subjectCode"}})],1),t._v(" "),s("div",{staticClass:"col-md-8"},[s("mt-labeled-input",{staticClass:"category-input",attrs:{label:"Предмет",size:"sm",placeholder:"Въведи предмет"},model:{value:t.exam.subjectName,callback:function(e){t.$set(t.exam,"subjectName",e)},expression:"exam.subjectName"}})],1),t._v(" "),s("div",{staticClass:"col-md-2"},[s("mt-labeled-input",{staticClass:"category-input",attrs:{label:"Вариант",size:"sm",placeholder:"Въведи вариант"},model:{value:t.exam.variant,callback:function(e){t.$set(t.exam,"variant",e)},expression:"exam.variant"}})],1)]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("mt-labeled-input",{staticClass:"category-input",attrs:{label:"Карта",size:"sm",placeholder:"Въведи карта"},model:{value:t.exam.map,callback:function(e){t.$set(t.exam,"map",e)},expression:"exam.map"}})],1)]),t._v(" "),s("mt-add-question",{directives:[{name:"show",rawName:"v-show",value:t.isToggled,expression:"isToggled"}],staticClass:"mb-3",attrs:{value:t.newQuestion,"has-add-button":!0},on:{add:t.addQuestion}}),t._v(" "),s("div",{staticClass:"question-list"},t._l(t.exam.questions,function(e,a){return s("mt-add-question",{key:e._id,staticClass:"question-list-item",attrs:{value:e,hasRemoveButton:!0,index:a},on:{remove:function(e){t.removeQuestion(e,a)},input:function(e){t.changeQuestion(e,a)}}})}))],1)},staticRenderFns:[]};var Vt=s("VU/8")(Dt,qt,!1,function(t){s("6w4V")},"data-v-68dd8c38",null).exports,Lt={name:"mt-modal",props:{value:Object},methods:{ok:function(){this.$emit("ok",this.value)}},components:{MtConfirmDelete:at}},Ft={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-modal",{attrs:{title:t.value.title,"ok-title":"Да","cancel-title":"Откажи"},on:{ok:t.ok},model:{value:t.value.isVisible,callback:function(e){t.$set(t.value,"isVisible",e)},expression:"value.isVisible"}},[s("mt-confirm-delete",{attrs:{question:t.value.subtitle,data:t.value.text}})],1)},staticRenderFns:[]};var jt={name:"mt-exams-list",components:{MtCollapsible:vt,MtExamHeader:ht,MtExamBody:Vt,MtModal:s("VU/8")(Lt,Ft,!1,function(t){s("MiYJ")},"data-v-db575d82",null).exports},created:function(){this.getExams()},computed:{exams:function(){return this.$store.state.exams}},data:function(){return{modalVm:{isVisible:!1,title:"Изтрий изпит",subtitle:"Сигурен ли си, че искаш да изтриеш",text:"",index:Number,examId:String}}},methods:{getExams:function(){this.$store.dispatch(A)},deleteExam:function(t,e){this.modalVm.examId=t._id,this.modalVm.index=e,a.a.set(this.modalVm,"text",this.examDescription(t)),a.a.set(this.modalVm,"isVisible",!0)},okDeleteExam:function(t){this.$store.dispatch(D,{examId:t.examId,index:t.index})},updateExam:function(t,e){this.$store.dispatch(M,{exam:t,index:e})},examDescription:function(t){return t.subjectName+" <br> Вариант: "+t.variant}}},It={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._l(t.exams,function(e,a){return s("mt-collapsible",{key:e._id},[s("mt-exam-header",{attrs:{slot:"header",subjectName:e.subjectName,variant:e.variant},slot:"header"}),t._v(" "),s("mt-exam-body",{attrs:{exam:e,index:a},on:{update:function(s){t.updateExam(e,a)},delete:function(s){t.deleteExam(e,a)}}})],1)}),t._v(" "),s("mt-modal",{on:{ok:t.okDeleteExam},model:{value:t.modalVm,callback:function(e){t.modalVm=e},expression:"modalVm"}})],2)},staticRenderFns:[]};var Qt=s("VU/8")(jt,It,!1,function(t){s("L3o0")},null,null).exports,zt={name:"mt-add-exam-details",components:{MtLabeledInput:gt},props:{value:Object},methods:{inputSubjectName:function(t){this.value.subjectName=t,this.$emit("input",this.value)},inputVariant:function(t){this.value.variant=t,this.$emit("input",this.value)}}},Ot={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row align-items-end"},[e("mt-labeled-input",{staticClass:"col-md-8",attrs:{label:"Предмет",value:this.value.subjectName,placeholder:"Въведи предмет"},on:{input:this.inputSubjectName}}),this._v(" "),e("mt-labeled-input",{staticClass:"col-md-2",attrs:{label:"Вариант",value:this.value.variant,placeholder:"Въведи вариант"},on:{input:this.inputVariant}}),this._v(" "),e("div",{staticClass:"col-md text-right"},[this._t("default")],2)],1)},staticRenderFns:[]};var Pt={name:"mt-add-exam",data:function(){return{exam:{subjectName:"Правила за движение по пътищата",subjectCode:"01",variant:"A",questions:[]},newQuestion:new Mt}},components:{MtAddExamDetails:s("VU/8")(zt,Ot,!1,function(t){s("PvFO")},"data-v-e60f3c70",null).exports,MtAddQuestion:Rt},methods:{submit:function(){this.$store.dispatch(N,this.exam)},add:function(t){this.exam.questions.push(t.deepCopy()),this.newQuestion=new Mt},changeQuestion:function(t,e){this.exam.questions.splice(e,1,t)}}},Bt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[s("mt-add-exam-details",{attrs:{value:"exam"},model:{value:t.exam,callback:function(e){t.exam=e},expression:"exam"}},[s("b-button",{staticClass:"mb-3 w-100",attrs:{type:"submit",variant:"success"}},[t._v("Запази")])],1),t._v(" "),s("mt-add-question",{staticClass:"mb-3",attrs:{value:t.newQuestion,"has-add-button":!0},on:{add:t.add}}),t._v(" "),s("div",{staticClass:"question-list"},t._l(t.exam.questions,function(e,a){return s("mt-add-question",{key:e._id,staticClass:"question-list-item",attrs:{value:e,index:a},on:{input:function(e){t.changeQuestion(e,a)}}})}))],1)},staticRenderFns:[]};var Xt={name:"mt-exams",components:{MtExamsList:Qt,MtAddExam:s("VU/8")(Pt,Bt,!1,function(t){s("34yi")},"data-v-2617b01b",null).exports}},Ht={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-fluid pt-3"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("b-tabs",[e("b-tab",{attrs:{active:""}},[e("template",{slot:"title"},[e("i",{staticClass:"fa fa-list-alt exams-list-icon",attrs:{"aria-hidden":"true"}}),this._v("Списък Изпити\n          ")]),this._v(" "),e("mt-exams-list")],2),this._v(" "),e("b-tab",{attrs:{title:"second"}},[e("template",{slot:"title"},[e("i",{staticClass:"fa fa-plus-circle add-exam-icon",attrs:{"aria-hidden":"true"}}),this._v("Създай Изпит\n          ")]),this._v(" "),e("mt-add-exam")],2)],1)],1)])])},staticRenderFns:[]},Gt=s("VU/8")(Xt,Ht,!1,null,null,null).exports,Zt={name:"mt-result-header",props:{name:String,score:{default:"",type:String}},computed:{translatedScore:function(){return this.score.replace(" out of "," от ")}}},Jt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",{staticClass:"\n          variant\n          text-info\n          rounded bg-dark pl-2 pr-2 pt-1 pb-1 font-weight-light"},[e("i",{staticClass:"fa fa-user ml-1 mr-2",attrs:{"data-v-024bf5af":""}}),this._v("\n          "+this._s(this.name)+"\n        ")]),this._v(" "),e("span",{staticClass:"\n          variant\n          text-light\n          pull-right\n          rounded bg-dark pl-2 pr-2 pt-1 pb-1 font-weight-light"},[e("i",{staticClass:"fa fa-bar-chart ml-1 mr-2",attrs:{"data-v-024bf5af":""}}),this._v("\n          "+this._s(this.translatedScore)+"\n        ")])])},staticRenderFns:[]},Wt=s("VU/8")(Zt,Jt,!1,null,null,null).exports,Yt={name:"mt-result-body",props:{result:Object},computed:{getAvatar:function(){var t=this.result.student.avatar;return t||(t="/static/images/avatar.png"),t},getStartDate:function(){return new Date(this.result.dateStarted).toLocaleString()},getEndDate:function(){return new Date(this.result.dateFinished).toLocaleString()},getPercentage:function(){return this.calculatePercentage(this.result.score)}},methods:{getPercentageClass:function(t){var e=this.calculatePercentage(t);return e>50?"success-label":e<50?"error-label":"warning-label"},calculatePercentage:function(t){var e="0.00";if(t){var s=t.split("/");s=s[0]/s[1]*100,e=parseFloat(s).toFixed(2)}return e},getEvaluationClass:function(t,e){return t===e?"success-evaluation":"error-evaluation"},getAnswerClass:function(t,e){return t===e?"success-label":"error-label"}}},Kt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-card-body",[s("div",{staticClass:"student-data"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-5"},[s("div",{staticClass:"student-results-details"},[s("img",{staticClass:"student-avatar",attrs:{src:t.getAvatar}}),t._v(" "),s("div",{staticClass:"student-results-info"},[s("div",{staticClass:"data-row-container"},[s("span",{staticClass:"gray-label"},[t._v("Име: ")]),t._v(" "),s("span",{staticClass:"right-label"},[t._v("\n                "+t._s(t.result.student.name)+"\n              ")])]),t._v(" "),s("div",{staticClass:"data-row-container"},[s("span",{staticClass:"gray-label align-self-center"},[t._v("Клас: ")]),t._v(" "),s("span",{staticClass:"text-info bg-dark px-2 rounded right-label"},[t._v("\n                "+t._s(t.result.student.group)+"\n              ")])]),t._v(" "),s("div",{staticClass:"data-row-container mt-3"},[s("span",{staticClass:"gray-label align-self-center"},[t._v("\n                Начало на изпита:\n              ")]),t._v(" "),s("span",{staticClass:"right-label"},[t._v("\n                "+t._s(t.getStartDate)+"\n              ")])]),t._v(" "),s("div",{staticClass:"data-row-container"},[s("span",{staticClass:"gray-label align-self-center"},[t._v("\n                Край на изпита:\n              ")]),t._v(" "),s("span",{staticClass:"right-label"},[t._v("\n                "+t._s(t.getEndDate)+"\n              ")])])])])]),t._v(" "),s("div",{staticClass:"col-md-7"},[s("div",{staticClass:"student-results-details h-100"},[s("div",{staticClass:"subject-name-container d-flex"},[s("span",{staticClass:"gray-label"},[t._v("Предмет: ")]),t._v(" "),s("span",{staticClass:"subject-name-text ml-auto"},[t._v(t._s(t.result.exam.subjectName))]),t._v(" "),s("div",{staticClass:"variant-container"},[s("span",{staticClass:"variant\n                    text-info\n                    rounded ml-3 pl-2 pr-2 pt-1 pb-1 font-weight-light"},[t._v("\n                    Вариант: "+t._s(t.result.exam.variant)+"\n              ")])])]),t._v(" "),s("div",{staticClass:"d-flex percentage-container"},[s("span",{staticClass:"gray-label align-self-end"},[t._v("Успеваемост: ")]),t._v(" "),s("span",{staticClass:"percentage ml-auto align-self-end",class:t.getPercentageClass(t.result.score)},[t._v("\n                "+t._s(t.getPercentage)+" %\n              ")])])])])])]),t._v(" "),s("div",{staticClass:"answers-list mt-3"},t._l(t.result.questions,function(e,a){return t.result.questions.length?s("div",{key:e._id,staticClass:"answers-list-item row",attrs:{id:e._id}},[s("div",{staticClass:"col-md-7"},[s("div",[s("div",{staticClass:"question-counter d-inline-block"},[s("span",[t._v(t._s(a))])]),t._v(" "),s("span",{staticClass:"question-label gray-label"},[t._v("\n            Въпрос:\n          ")]),t._v(" "),s("span",{staticClass:"question-text"},[t._v(t._s(e.text))])])]),t._v(" "),s("div",{staticClass:"col-md-2"},[s("span",{staticClass:"correct-answer-label gray-label"},[t._v("\n          Верен отговор:\n        ")]),t._v(" "),s("span",{staticClass:"correct-answer-value"},[t._v("\n          "+t._s(e.correctAnswer)+"\n        ")])]),t._v(" "),s("div",{staticClass:"col-md-3"},[s("div",{staticClass:"d-flex"},[s("span",{staticClass:"answer-given-label gray-label align-self-center"},[t._v("\n              Даден отговор:\n          ")]),t._v(" "),s("span",{staticClass:"answer-given-value align-self-center",class:t.getAnswerClass(e.givenAnswer,e.correctAnswer)},[t._v("\n            "+t._s(e.givenAnswer)+"\n          ")]),t._v(" "),s("div",{staticClass:"answer-evaluation-container ml-auto mr-3"},[s("span",{staticClass:"answer-evaluation",class:t.getEvaluationClass(e.givenAnswer,e.correctAnswer)})])])])]):t._e()}))])},staticRenderFns:[]};var te={name:"mt-results",components:{MtResultBody:s("VU/8")(Yt,Kt,!1,function(t){s("a9Jv")},"data-v-23e8f535",null).exports,MtResultHeader:Wt,MtCollapsible:vt,MtContainer:x,MtSearchFilter:I},created:function(){this.getResults()},computed:{results:function(){return this.$store.state.results}},methods:{getResults:function(){var t=this.$route.query.studentId;t?this.$store.dispatch(U,{studentId:t}):this.$store.dispatch(R)}}},ee={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid pt-3"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("mt-container",{attrs:{header:"Списък с резултати"}},t._l(t.results,function(e){return s("mt-collapsible",{key:e._id},[s("mt-result-header",{attrs:{slot:"header",name:e.student.name,score:e.score},slot:"header"}),t._v(" "),s("mt-result-body",{attrs:{result:e}})],1)}))],1)])])},staticRenderFns:[]};var se=s("VU/8")(te,ee,!1,function(t){s("Xwz8")},null,null).exports,ae={name:"mt-questionnaire",computed:{student:function(){return this.$store.state.currentStudent},exams:function(){return this.$store.state.exams},exam:function(){return this.$store.state.currentExam}},mounted:function(){this.$store.dispatch(k,"5acdcd76734d1d55c319e43a"),this.$store.dispatch(A),this.$store.dispatch(T)}},ne={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",[t._v("QUESTIONNAIRE")]),t._v("\n\n  CURRENT STUDENT:\n  "),s("div",[t._v(t._s(t.student.name))]),t._v("\n  ALL EXAMS:\n  "),t._l(t.exams,function(e){return s("div",{key:e._id},[t._v("\n    id: "+t._s(e._id)+" "+t._s(e.subjectName)+" "+t._s(e.variant)+"\n  ")])}),t._v("\n  CURRENT EXAM:\n  "),s("div",[t._v(t._s(t.exam._id)+" "+t._s(t.exam.subjectName)+" "+t._s(t.exam.variant))])],2)},staticRenderFns:[]};var ie=s("VU/8")(ae,ne,!1,function(t){s("L9gu")},null,null).exports;a.a.use(u.a);var re,le,oe=new u.a({routes:[{path:"/",name:"Game",components:{default:m}},{path:"/admin",name:"Admin",components:{navigation:f,default:ot}},{path:"/exams",name:"Exams",components:{navigation:f,default:Gt}},{path:"/results",name:"Results",components:{navigation:f,default:se}},{path:"/questionnaire",name:"Questionnaire",components:{navigation:f,default:ie}}]}),ue=s("NYxO"),ce=s("bOdI"),de=s.n(ce),me=(re={},de()(re,Q,function(t,e){t.isLoading=e}),de()(re,z,function(t,e){t.students.push(e)}),de()(re,O,function(t,e){t.students=e}),de()(re,P,function(t,e){t.currentStudent=e}),de()(re,B,function(t,e){t.results=e}),de()(re,X,function(t,e){t.studentResults=e}),de()(re,G,function(t,e){t.exams=e}),de()(re,H,function(t,e){t.currentExam=e}),de()(re,Z,function(t,e){t.exams.push(e)}),de()(re,J,function(t,e){var s=e.index,a=e.exam;t.exams.splice(s,1,a)}),de()(re,W,function(t,e){t.exams.splice(e,1)}),re),ve={getStudentById:function(t){return function(e){return t.students.find(function(t){return t._id===e})}},getRemainingStudents:function(t,e){return t.students.filter(function(t){return t._id!==e})},getExamById:function(t){return function(e){return t.exams.find(function(t){return t._id===e})}},getExamIndexById:function(t){return function(e){for(var s=0;s<t.exams.length;s+=1)if(t.exams[s]._id===e)return s;return console.log("INDEX IS: ",-1),-1}}},fe=s("woOf"),pe=s.n(fe),he=s("mtWM"),_e=s.n(he),be="api/v1/",ge={get:function(t,e,s,a){this.request({method:"get",url:t,params:a,success:e,failure:s})},post:function(t,e,s,a){this.request({method:"post",url:t,data:e,success:s,failure:a})},put:function(t,e,s,a){this.request({method:"put",url:t,data:e,success:s,failure:a})},delete:function(t,e,s){this.request({method:"delete",url:t,success:e,failure:s})},request:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.url){var e=pe()({method:"get",baseURL:be},t);_e()(e).then(function(e){t.success&&t.success(e.data)}).catch(function(e){t.failure&&t.failure(e)})}else console.log("URL is required")}},xe=function(t,e){ge.get("students",t,e)},Ce=function(t,e,s){ge.get("students/"+t,e,s)},Ee=function(t,e,s){ge.post("students",t,e,s)},Se=function(t,e,s){ge.delete("students/"+t,e,s)},we=function(t,e){ge.get("results",t,e)},ye=function(t,e,s){ge.get("results",e,s,t)},$e=function(t,e,s){ge.get("exams",e,s,t)},ke=function(t,e,s){ge.post("exams",t,e,s)},Re=function(t,e,s,a){ge.put("exams/"+t,e,s,a)},Ue=function(t,e,s){ge.delete("exams/"+t,e,s)},Ae=(le={},de()(le,y,function(t,e){var s=t.commit;s(Q,!0),Ee(e,function(t){s(z,t),s(Q,!1)},function(t){console.log(t),s(Q,!1)})}),de()(le,$,function(t,e){var s=t.commit,a=t.state;s(Q,!0),Se(e,function(){var t=ve.getRemainingStudents(a,e);s(O,t),s(Q,!1)},function(t){console.log(t),s(Q,!1)})}),de()(le,w,function(t){var e=t.commit;e(Q,!0),xe(function(t){e(O,t),e(Q,!1)},function(t){console.log(t),e(Q,!1)})}),de()(le,k,function(t,e){var s=t.commit;s(Q,!0),Ce(e,function(t){s(P,t),s(Q,!1)},function(t){console.log(t),s(Q,!1)})}),de()(le,R,function(t){var e=t.commit;e(Q,!0),we(function(t){e(B,t),e(Q,!1)},function(t){console.log(t),e(Q,!1)})}),de()(le,U,function(t,e){var s=t.commit;s(Q,!0),ye(e,function(t){s(X,t),s(Q,!1)},function(t){console.log(t),s(Q,!1)})}),de()(le,A,function(t,e){var s=t.commit;s(Q,!0),$e(e,function(t){s(G,t),s(Q,!1)},function(t){console.log(t),s(Q,!1)})}),de()(le,T,function(t){var e=t.commit,s=t.state;e(Q,!0),$e({subjectCode:s.subjectCode,variant:s.variant},function(t){e(H,t[0]),e(Q,!1)},function(t){console.log(t),e(Q,!1)})}),de()(le,N,function(t,e){var s=t.commit;s(Q,!0),ke(e,function(t){s(Z,t),s(Q,!1)},function(t){console.log(t),s(Q,!1)})}),de()(le,M,function(t,e){var s=t.commit,a=e.exam,n=e.index;s(Q,!0),Re(a._id,a,function(t){s(J,{index:n,exam:t}),s(Q,!1)},function(t){console.log(t),s(Q,!1)})}),de()(le,D,function(t,e){var s=t.commit,a=e.examId,n=e.index;s(Q,!0),Ue(a,function(){s(W,n),s(Q,!1)},function(t){console.log(t),s(Q,!1)})}),le);a.a.use(ue.a);var Te=new ue.a.Store({state:{students:[],currentStudent:{},isLoading:!1,currentExam:{},exams:[],results:[],studentResults:[],subjectCode:"01",variant:"Б"},getters:ve,mutations:me,actions:Ae});a.a.use(n.l),a.a.use(n.n),a.a.use(n.c),a.a.use(n.b),a.a.use(n.a),a.a.use(n.m),a.a.use(n.k),a.a.use(n.f),a.a.use(n.i),a.a.use(n.e),a.a.use(n.h),a.a.use(n.d),a.a.use(n.g),a.a.use(n.j),a.a.config.productionTip=!1,new a.a({el:"#app",router:oe,store:Te,components:{App:o},template:"<App/>"})},Nff9:function(t,e){},OZEt:function(t,e){},P9kx:function(t,e){},PvFO:function(t,e){},WqH3:function(t,e){},Xwz8:function(t,e){},"Z+l0":function(t,e){},a9Jv:function(t,e){},caq4:function(t,e){},enuX:function(t,e){},hbeH:function(t,e){},mSRH:function(t,e){},mwps:function(t,e){},oMoI:function(t,e){},p8dR:function(t,e){},rVmt:function(t,e){},"uh/w":function(t,e){t.exports="<div>\n  Game\n</div>\n"},x7yZ:function(t,e){},zj2Q:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.b3bec82cee8303029dfc.js.map